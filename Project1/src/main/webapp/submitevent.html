<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        function addEvent()
        {
            console.log("HELLO I AM HERE IN BUTTON");
            let atype = document.getElementById("eventtype");
            let e = atype.options[atype.selectedIndex].value;
            let aname = document.getElementById("name").value;
            let adate = document.getElementById("date").value;
            let adescription = document.getElementById("description").value;
            let acost = document.getElementById("cost").value;

            let event = {
                //id: 0,
                type: e,
                name: aname,
                date: adate,
                description: adescription,
                cost: acost
            }

            let xhttp = new XMLHttpRequest();

            xhttp.onreadystatechange = function() {
                console.log(this.readyState);

             if(this.readyState == 4 && this.status == 200) {

              console.log(this.responseText);

            }

            if(this.readyState == 3)
            {console.log("3 hi sydney");}

            if(this.readyState == 2)
            {console.log("2 hi noah");}

            if(this.readyState == 1)
            {console.log("1 hi eduardo");}
            }
            xhttp.open("POST", "http://localhost:8080/Project1/addEvent.do", true);
   
//Set a Request HEader which will indicate to the Server that the Request Body will be JSON
xhttp.setRequestHeader('Content-Type','application/json');

//Send, but now we will pass in the Request Body as a parameter of the function
console.log("LINE 50 BABY");
console.log(event);
xhttp.send(JSON.stringify(event));

    
    
        }
    </script>
</head>
<body>
    <h1 style="background-color:white;text-align:center;">Tuition Reimbursement Management System Form</h1>
 
    <label for="name">Name of Event:</label>
    <input type="text" id="name" name="name">
    <br>
    <label for="date">Date/Time of Event in form year-month-day 2400:</label>
    <input type="text" id="date" name="date">
    <br>
    <label for="description">Brief Description of Event:</label>
    <input type="text" id="description" name="description">
    <br>
    <label for="eventtype">Pick a type of event:</label>
    <select id="eventtype">
        <option value=1>University Course</option>
        <option value=2>Seminar</option>
        <option value=3>Certification Preparation Classes</option>
        <option value=4>Certification</option>
        <option value=5>Technical Training</option>
        <option value=6 selected>Other</option>
    </select>
    <br>
    <label for="cost">Cost of Event:</label>
    <input type="number" step = 0.1 id="cost" name="cost">
    <br>
    <button onclick="addEvent()">Submit</button>
    <br>
      
</body>
</html>